<!DOCTYPE html>
<html>
<head>
<style>
.button {
  background-color: #4CAF50; /* Green */
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}

.button2 {background-color: #008CBA;} /* Blue */
.button3 {background-color: #f44336;} /* Red */ 
.button4 {background-color: #e7e7e7; color: black;} /* Gray */ 
.button5 {background-color: #555555;} /* Black */

* {
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
}

/* Style the header */
.header {
  grid-area: header;
  background-color: #f1f1f1;
  padding: 30px;
  text-align: center;
  font-size: 35px;
}

/* The grid container */
.grid-container {
  display: grid;
  grid-template-areas: 
    'header header header header header header' 
    'left left middle middle right right' 
    'footer footer footer footer footer footer';
  /* grid-column-gap: 10px; - if you want gap between the columns */
} 

.left,
.middle,
.right {
  padding: 10px;
}

/* Style the left column */
.left {
  grid-area: left;
}

/* Style the middle column */
.middle {
  grid-area: middle;
}

/* Style the right column */
.right {
  grid-area: right;
}

/* Style the footer */
.footer {
  grid-area: footer;
  background-color: #f1f1f1;
  padding: 10px;
  text-align: center;
}

/* Responsive layout - makes the three columns stack on top of each other instead of next to each other */
@media (max-width: 600px) {
  .grid-container  {
    grid-template-areas: 
      'header header header header header header' 
      'left left left left left left' 
      'middle middle middle middle middle middle' 
      'right right right right right right' 
      'footer footer footer footer footer footer';
  }
}

table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #ffffff;
}

</style>
<script type="text/javascript" src="web3.min.js"></script>
<script type="text/javascript">        			
window.addEventListener('load', async () => {
      // Modern dapp browsers...
      if (window.ethereum) {
          window.web3 = new Web3(ethereum);
          try {
              // Request account access if needed
              await ethereum.enable();
              // Acccounts now exposed
              //web3.eth.sendTransaction({/* ... */});
          } catch (error) {
              // User denied account access...
          }
      }
      // Legacy dapp browsers...
      else if (window.web3) {
          window.web3 = new Web3(web3.currentProvider);
          // Acccounts always exposed
          // web3.eth.sendTransaction({/* ... */});
      }
      // Non-dapp browsers...
      else {
          console.log('Non-Ethereum browser detected. You should consider trying MetaMask!');
      }
  });
if (typeof web3 !== 'undefined') {
				web3 = new Web3(web3.currentProvider);
			} else {
				// set the provider you want from Web3.providers
				web3 = new Web3("https://ropsten.infura.io/v3/7a8332feb0eb4e7e9a3fc6ce4e624086");
      }

var KNX5abi = [
    {
      "constant": false,
      "inputs": [
        {
          "name": "contractAddress",
          "type": "address"
        },
        {
          "name": "to",
          "type": "address"
        },
        {
          "name": "balance",
          "type": "uint256"
        }
      ],
      "name": "withdrawToken",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "to",
          "type": "address"
        },
        {
          "name": "balance",
          "type": "uint256"
        }
      ],
      "name": "withdrawEth",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "Playforfreetoken",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "PlayX5",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "choose_a_number_to_chaos_the_algo",
          "type": "uint256"
        }
      ],
      "name": "shake",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "payable": true,
      "stateMutability": "payable",
      "type": "fallback"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "from",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "betvalue",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "win",
          "type": "bool"
        },
        {
          "indexed": false,
          "name": "wonamount",
          "type": "uint256"
        }
      ],
      "name": "PlayResult",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "from",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "make_chaos",
          "type": "bytes32"
        }
      ],
      "name": "Shake",
      "type": "event"
    }
  ];

const KNabi = [
	{
		"constant": true,
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_spender",
				"type": "address"
			},
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_unlock",
				"type": "bool"
			}
		],
		"name": "unlockAllTokens",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_from",
				"type": "address"
			},
			{
				"name": "_to",
				"type": "address"
			},
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "addnewOwner",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"name": "",
				"type": "uint8"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "burn",
		"outputs": [
			{
				"name": "success",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "founderAddress",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "unlockAllTokens",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "newOwner",
				"type": "address"
			},
			{
				"name": "position",
				"type": "uint256"
			}
		],
		"name": "setNewOwner",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_owner",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_from",
				"type": "address"
			},
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "burnFrom",
		"outputs": [
			{
				"name": "success",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"name": "",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "owner",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "_to",
				"type": "address"
			},
			{
				"name": "_value",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"name": "frozenAccount",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"name": "allOwner",
		"outputs": [
			{
				"name": "",
				"type": "address"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_owner",
				"type": "address"
			},
			{
				"name": "_spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "target",
				"type": "address"
			},
			{
				"name": "freeze",
				"type": "bool"
			}
		],
		"name": "freezeAccount",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "target",
				"type": "address"
			},
			{
				"indexed": false,
				"name": "unfrozen",
				"type": "bool"
			}
		],
		"name": "FrozenFunds",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"name": "unlock",
				"type": "bool"
			}
		],
		"name": "UnLockAllTokens",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"name": "from",
				"type": "address"
			},
			{
				"indexed": false,
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Burn",
		"type": "event"
	}
];

const KNX5Contract = web3.eth.contract(KNX5abi);
const KNX5ContractAdress = "0x2293217830650bA643847700579D3148e506653A";
const KNX5 = KNX5Contract.at(KNX5ContractAdress);

const KNContract = web3.eth.contract(KNabi);
const KNContractAdress = "0x82d987E8c27DB4a75Dd22D770335a5E5435252CD";
const KN = KNContract.at(KNContractAdress);

var fromAccount = web3.eth.accounts[0];

var userAccount = web3.eth.accounts[0];

function getBalance() {
				var address, wei, balance
				address = "0x2293217830650bA643847700579D3148e506653A"
				try {
					web3.eth.getBalance(address, function (error, wei) {
						if (!error) {
							var balance = web3.fromWei(wei, 'ether');
							console.log(balance + " ETH");
						}
					});
				} catch (err) {
					console.log(err);
				}
			}

function approve() {
    KN.approve.sendTransaction("0x2293217830650bA643847700579D3148e506653A", 1000000000000000000000000000, function(err, transactionHash) {
 if (!err)
   console.log(transactionHash);
})
};

function checkapprove() {
	var tokenallow;
	var from = web3.eth.accounts[0];
   	tokenallow = KN.allowance.call(from, "0x2293217830650bA643847700579D3148e506653A", function(err, tokenallow) {
 	if (!err)
    	console.log(tokenallow.toString());
	})
	return typeof(tokenallow);
	return (tokenallow > 0);
};	
function PlayX5() {
    KNX5.PlayX5.sendTransaction({value: 10000000000000000}, function(err, transactionHash) {
 if (!err)
   console.log(transactionHash);
})
};
	
function Playforfreetoken() {
    KNX5.Playforfreetoken.sendTransaction({value: 10000000000000000}, function(err, transactionHash) {
 if (!err)
   console.log(transactionHash); // "0x7f9fade1c0d57a7af66ab4ead7c2eb7b11a91385"
})
};	

//KNX5.playX5.send("1000", function(err, result) => { console.log(result) });

//web3.eth.sendTransaction({to:Contractaddress, from:Accountaddress, data: getData});

      
</script>
</head>
<body>
<div class="grid-container">
  <div class="header">
    <h2 style="color:green">Lucky Roll</h2>
  </div>
  
  <div class="left" style="background-color:#aaa;">
  <h1 style="color:blue">Play X5</h1>
  <p>Try your lucky rolling with KN to x5 your ETH</p>
  <p style="color:red">-0.01 ETH</p>
  <p style="color:red">-50 KN</p>
  <table>
  <tr>
    <th>Winnings</th>
    <th>Probabilities</th>
  </tr>
  <tr>
    <td style="color:green">+0.05 ETH</td>
    <td>20%</td>
  </tr>
  </table>
  <button class="button button2" onclick="PlayX5()" style="float: right;">Play</button>
  
  </div>
  <div class="middle" style="background-color:#bbb;"> 
  <h1 style="color:blue">Play X10</h1>
  <p>Try your lucky rolling with KN to x5 your ETH</p>
  <p style="color:red">-0.01 ETH</p>
  <p style="color:red">-75 KN</p>
  <table>
  <tr>
    <th>Winnings</th>
    <th>Probabilities</th>
  </tr>
  <tr>
    <td style="color:green">+0.1 ETH</td>
    <td>10%</td>
  </tr>
  </table>
  <button class="button button2" onclick="alert('Congrats! X10 your ETH')" style="float: right;">Play</button>
  </div>
  <div class="right" style="background-color:#ccc;">
  <h1 style="color:blue">Play Lucky KN</h1>
  <p>Try your lucky rolling to get free KN</p>
  <p style="color:red">-0.01 ETH</p>
  <br>
  <table>
  <tr>
    <th>Winnings</th>
    <th>Probabilities</th>
  </tr>
  <tr>
    <td style="color:green">+0.01 ETH</td>
    <td>50%</td>
  <tr>
    <td style="color:green">200 KN</td>
    <td>100%</td>
  </tr>
  </table>
  <button class="button button2" onclick="Playforfreetoken()" style="float: right;">Play</button>
  </div>
  
  <div class="footer">
  <p>From Knowchain Team. Copyright 2019 @ Knowchain</p>
  </div>
</div>
</body>
</html>
